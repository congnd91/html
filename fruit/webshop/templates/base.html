<!doctype html>
{% set lang = get_locale() %}
<html lang="{{ lang }}">
    <head>
        {% if config['CDN_DOMAIN'] %}
        <link rel="dns-prefetch" href="//{{ config['CDN_DOMAIN'] }}"/>
        {% endif %}
        <link rel="dns-prefetch" href="//fonts.googleapis.com"/>
        {% if google_tag_manager %}
        <link rel="dns-prefetch" href="https://www.googletagmanager.com"/>
        {% endif %}
        <title>{{ title }} | Jurassic Fruit</title>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
        {% if description %}
        <meta name="description" content="{{ description }}"/>
        {% endif %}

        {% block link %}
        <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon.png') }}"/>
        <link rel="apple-touch-icon-precomposed" href="{{ url_for('static', filename='favicon.png') }}"/>
        {% block link_alternate %}
        {% for other in list_translations() %}
        {% if other != lang %}
        <link rel="alternate" hreflang="{{ other }}" href="{{ url_lang(other, _external=True) }}"/>
        {% endif %}
        {% endfor %}
        {% endblock %}
        {% block canonical %}
        {% if not canonical_url %}
        {% set canonical_url = util.canonical_url() %}
        {% endif %}
        {% if canonical_url != request.url %}
        <link rel="canonical" href="{{ canonical_url }}"/>
        {% endif %}
        {% endblock canonical %}
        {% endblock %}

        <meta name="csrf_token" content="{{ csrf_token() }}"/>
        {% if robots_noindex %}
        <meta name="robots" content="noindex,nofollow"/>
        {% endif %}
        {% block style %}
        <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}" type="text/css"/>
        <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat|Montserrat:bold|Montserrat:semibold&subset=latin"/>
        <noscript>
            <style>
                .tab-content .tab-pane {
                    display: block;
                    opacity: initial;
                }
            </style>
        </noscript>
        {% endblock style %}

        <script>
            window.dataLayer = {{ (dataLayer or [])|tojson }};
        </script>
        {% if google_tag_manager %}
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','{{ google_tag_manager }}');</script>
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id={{ google_tag_manager }}" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        {% endif %}
    </head>
    <body>
        {% block body %}
        {% endblock body %}

        {% block js %}
        <script async src="{{ url_for('static', filename='js/all.js') }}"></script>
        {% endblock js %}
    </body>
</html>
